<div class="detail-page" *ngIf="pokemon && species">
  <div class="page-section">
    <img class="pokemon-image" src="{{getImageURL('poke', pokemon.id)}}" alt="{{pokemon.name}}">
    <h2 class="card-title text-center"> {{(species.names | language)[0].name}} </h2>
    <div class="text-center"> #{{pokemon.id.toString().padStart(3, '0')}} {{(species.genera | language)[0].genus}} </div>
    <div class="text-center">
      <app-type-name url="{{(pokemon.types | slot:1).type.url}}"></app-type-name>
      <span *ngIf="pokemon.types | slot:2">&nbsp;</span>
      <app-type-name url="{{(pokemon.types | slot:2).type.url}}" *ngIf="pokemon.types | slot:2"></app-type-name>
    </div>
  </div>

  <div class="page-section">
    <table class="table">
      <tr>
        <td>Generation:</td>
        <td>{{species.generation.name}}</td>
      </tr>
      <tr>
        <td>Egg Groups:</td>
        <td>{{species.egg_groups[0].name}},
          {{species.egg_groups[1] ? species.egg_groups[1].name : ''}}</td>
      </tr>
      <tr>
        <td>Capture Rate:</td>
        <td>{{species.capture_rate}}%</td>
      </tr>
      <tr>
        <td>Gender Rate:</td>
        <td>{{species.gender_rate}}</td>
      </tr>
      <!-- <tr>
        <td>EV Yield:</td>
        <td>{{pokemon.evYield}}</td>
      </tr> -->
      <!-- <tr>
        <td>Base Experience:</td>
        <td>{{species.base_experience}}</td>
      </tr> -->
      <tr>
        <td>Abilities:</td>
        <td>
          <span *ngFor="let ability of pokemon.abilities"
            (click)="goAbility(ability.ability)">
            {{ability.ability.name}}
            {{ability.is_hidden ? '(Hidden)' : ''}}
            <br>
          </span>
        </td>
      </tr>
    </table>
  </div>

  <!-- <div class="page-section">
      <h4 class="card-title text-center">Abilities</h4>
      <div class="section-ability"
        *ngFor="let ability of pokemon.abilities"
        (click)="goAbility(ability.ability)">
        <h5 class="card-subtitle">{{ability.ability.name}}</h5>
        <div *ngIf="ability.is_hidden === true">(Hidden)</div>
      </div>
    </div> -->

  <div class="page-section">
    <h4 class="card-title text-center">Base Stats</h4>
    <table class="table">
      <tr>
        <td>HP:</td>
        <td>{{pokemon.stats | stats:'hp'}}</td>
      </tr>
      <tr>
        <td>ATK:</td>
        <td>{{pokemon.stats | stats:'attack'}}</td>
      </tr>
      <tr>
        <td>DEF:</td>
        <td>{{pokemon.stats | stats:'defense'}}</td>
      </tr>
      <tr>
        <td>SPA:</td>
        <td>{{pokemon.stats | stats:'special-attack'}}</td>
      </tr>
      <tr>
        <td>SPD:</td>
        <td>{{pokemon.stats | stats:'special-defense'}}</td>
      </tr>
      <tr>
        <td>SPE:</td>
        <td>{{pokemon.stats | stats:'speed'}}</td>
      </tr>
      <tr>
        <td>Total:</td>
        <td>{{getTotalStats()}}
        </td>
      </tr>
    </table>
  </div>

  <app-evolution-chain url='{{species.evolution_chain.url}}'>
  </app-evolution-chain>

  <div class="page-section">
    <h4 class="card-title text-center">PokeDex Entry</h4>
    <div>{{(species.flavor_text_entries | language | version)[0].flavor_text}}</div>
  </div>

  <div class="page-section">
    <h4 class="card-title text-center">Moves</h4>
    <table class="table">
      <th>Level Up</th>
      <tr *ngFor="let move of pokemon.moves">
        <app-move-list-item
          *ngIf="(move.version_group_details | versionGroup | moveLearnMethod:'level-up').length !== 0"
          url='{{move.move.url}}'>
        </app-move-list-item>
      </tr>
    </table>

    <table class="table">
      <th>TM/HM</th>
      <tr *ngFor="let move of pokemon.moves">
        <app-move-list-item
          *ngIf="(move.version_group_details | versionGroup | moveLearnMethod:'machine').length !== 0"
          url='{{move.move.url}}'>
        </app-move-list-item>
      </tr>
    </table>
  </div>

  <!-- <div class="page-section">
    <h4 class="card-title text-center">Location</h4>
    <div> <span> Kanto: </span> Pallet Town/Initial Pokemon </div>
    <div> <span> Alola: </span> Route 2/Island Scan/Grassy Terrain </div>
  </div> -->
</div>
